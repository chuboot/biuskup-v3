(()=>{const e=e=>{const t=document.querySelector(".movie-list");t.innerHTML="",e.forEach((e=>{t.innerHTML+=`\n        <div class="card-movie">\n            <div class="card-movie-img">\n              <img src="https://www.themoviedb.org/t/p/original/${e.poster_path}" alt="${e.title}" data-id="${e.id}" />\n            </div>\n            <h5 class="movie-title">${e.title}</h5>\n        </div>\n    \n    `})),document.querySelectorAll(".card-movie-img img").forEach((e=>{e.addEventListener("click",(function(){const e=this.dataset.id;n(),console.log(e),fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=17c8dffc0cbd61894a0460817bbba88e&language=en-US`).then((e=>e.json())).then((e=>{const n=document.querySelector("section"),t=function(e){return`\n      <div class="backdrop">\n        <img src="https://www.themoviedb.org/t/p/original/${e.backdrop_path}"" alt="${e.title}" />\n      </div>\n      <div class="container">\n        <div class="hero">\n          <div class="card-img">\n            <img src="https://www.themoviedb.org/t/p/original/${e.poster_path}"" alt="${e.title}" />\n          </div>\n          <div class="caption">\n            <h2>${e.title}</h2>\n            \n            <p>${e.release_date.slice(0,4)}</p>\n            <div>${e.genres.map((e=>`<span>${e.name}</span>`)).join(" - ")}</div>\n            <p>${e.overview}</p>\n            <h4>Cast:</h4>\n    \n          </div>\n        </div>\n      </div>\n    `}(e);n.innerHTML=t})),fetch(`https://api.themoviedb.org/3/movie/${e}/credits?api_key=17c8dffc0cbd61894a0460817bbba88e&language=en-US`).then((e=>e.json())).then((e=>{const n=e.cast.slice(0,4);console.log(n),function(e){const n=document.createElement("div");n.innerHTML="",e.forEach((e=>{n.innerHTML+=`\n            <div class="card-cast">\n                <div class="cast-img">\n                  <img src="https://www.themoviedb.org/t/p/original/${e.profile_path}" alt="" />\n                </div>\n            <h5>${e.name}</h5>\n            </div>\n        `})),n.classList.add("row-cast"),document.querySelector(".caption").appendChild(n)}(n)})),fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=17c8dffc0cbd61894a0460817bbba88e&language=en-US`).then((e=>e.json())).then((e=>{const n=e.results.slice(0,2);console.log(n),(e=>{const n=document.createElement("div");n.innerHTML="",e.forEach(((e,t)=>{n.innerHTML+=`\n          <h2>Official Trailer #${t+1}</h2>\n          <iframe\n            width="100%"\n            height="315"\n            src="https://www.youtube.com/embed/${e.key}"\n            title="YouTube video player"\n            frameborder="0"\n            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n            allowfullscreen\n          ></iframe>\n\n    `})),n.classList.add("trailer"),document.querySelector("section .container").appendChild(n)})(n)}))}))}))};(async()=>{const n=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=17c8dffc0cbd61894a0460817bbba88e&language=en-US&page=1"),t=(await n.json()).results;console.log(t),e(t)})();const n=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}})();